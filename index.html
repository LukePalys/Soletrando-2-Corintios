<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soletrando 2 Cor√≠ntios: O Guia Definitivo para Vencer!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilo base para a fonte e transi√ß√µes suaves */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        /* Vari√°veis de Cores para o Tema Escuro */
        .dark {
            --bg-color: #1a1a2e;
            --text-color: #e0e0e0;
            --card-bg: #16213e;
            --header-bg: #16213e;
            --accent-color: #0f3460;
            --accent-color-light: #537895;
            --border-color: #2a3b5a;
            --highlight-bg: #1f2a40;
            --input-bg: #2a3b5a;
            --text-accent: #e94560;
        }
        /* Vari√°veis de Cores para o Tema Claro */
        html {
            --bg-color: #f0f2f5;
            --text-color: #333;
            --card-bg: #ffffff;
            --header-bg: #ffffff;
            --accent-color: #6a1b9a;
            --accent-color-light: #8e44ad;
            --border-color: #e0e0e0;
            --highlight-bg: #f3e5f5;
            --input-bg: #ffffff;
            --text-accent: var(--accent-color);
        }
        /* Classes utilit√°rias para aplicar as vari√°veis de cor */
        .bg-custom { background-color: var(--bg-color); }
        .text-custom { color: var(--text-color); }
        .bg-card { background-color: var(--card-bg); }
        .bg-header { background-color: var(--header-bg); }
        .text-accent { color: var(--text-accent); }
        .border-custom { border-color: var(--border-color); }
        .bg-highlight { background-color: var(--highlight-bg); }
        .border-accent-light { border-color: var(--accent-color-light); }
        .text-accent-light { color: var(--accent-color-light); }
        .hover\:bg-accent-light:hover { background-color: var(--accent-color-light); }
        .hover\:text-header:hover { color: var(--header-bg); }
        .bg-input { background-color: var(--input-bg); }
        .focus\:ring-accent-light:focus { --tw-ring-color: var(--accent-color-light); }
        
        /* Estilos para o acorde√£o de cap√≠tulos */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            padding: 0 1rem;
        }

        /* Estilos para o modal de treino */
        .modal-overlay {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-custom text-custom transition-colors duration-300">

    <!-- CABE√áALHO -->
    <header class="bg-header sticky top-0 z-20 shadow-md border-b border-custom transition-colors duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="text-left">
                <h1 class="text-2xl md:text-4xl font-bold text-accent">Soletrando 2 Cor√≠ntios</h1>
                <p class="text-sm md:text-base opacity-80">O Guia Definitivo para Vencer!</p>
            </div>
            <button id="darkModeToggle" title="Alternar Modo Escuro" class="text-2xl p-2 rounded-full border border-accent text-accent hover:bg-highlight transition-all duration-200 transform hover:scale-110 hover:rotate-12">
                <span class="dark:hidden">üåô</span>
                <span class="hidden dark:inline">‚òÄÔ∏è</span>
            </button>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-6">
        <!-- SE√á√ÉO DE INTRODU√á√ÉO -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom mb-6">
            <h2 class="text-2xl font-semibold text-accent flex items-center gap-2 border-b-2 border-accent-light pb-2 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m4 6 8-4 8 4v10l-8 4-8-4Z"/><path d="m4 10 8 4 8-4"/></svg>
                Seja bem-vindo, competidor!
            </h2>
            <p class="mb-3">Voc√™ chegou ao centro de treinamento completo para o grande desafio de soletra√ß√£o. Sabemos que a vit√≥ria exige preparo, e √© exatamente isso que voc√™ encontrar√° aqui: um guia definitivo, com listas de palavras, dicas estrat√©gicas e um plano de estudos para voc√™ chegar no dia da competi√ß√£o com a confian√ßa l√° em cima.</p>
            <p>A jornada pode ser desafiadora, mas cada palavra aprendida √© uma vit√≥ria. Vamos juntos dominar este desafio!</p>
        </section>

        <!-- SE√á√ÉO PRINCIPAL: AS LISTAS DE PALAVRAS INTERATIVAS -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom mb-6">
            <h2 class="text-2xl font-semibold text-accent flex items-center gap-2 border-b-2 border-accent-light pb-2 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                O Grande Desafio: A Lista de Palavras para Treinar
            </h2>
            <p class="mb-6">Organizamos as palavras em n√≠veis. <strong class="text-accent-light">Clique em uma palavra para iniciar o modo de treino!</strong></p>

            <!-- N√≠veis de Palavras -->
            <div id="word-lists">
                <!-- N√≠vel 1 -->
                <div>
                    <h3 class="text-xl font-semibold text-accent-light mt-4 mb-2">N√≠vel 1: Fundamento S√≥lido (Aquecimento)</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 word-container">
                        <!-- Palavras ser√£o inseridas pelo JS -->
                    </div>
                </div>
                <!-- N√≠vel 2 -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-accent-light mt-4 mb-2">N√≠vel 2: Aten√ß√£o aos Detalhes (Intermedi√°rio)</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 word-container">
                        <!-- Palavras ser√£o inseridas pelo JS -->
                    </div>
                </div>
                <!-- N√≠vel 3 -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-accent-light mt-4 mb-2">N√≠vel 3: N√≠vel Avan√ßado (Pegadinhas √† Vista)</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 word-container">
                        <!-- Palavras ser√£o inseridas pelo JS -->
                    </div>
                </div>
                <!-- N√≠vel 4 -->
                <div class="mt-8">
                    <h3 class="text-xl font-semibold text-accent-light mt-4 mb-2">N√≠vel 4: Desafio Final (Palavras de Campe√£o)</h3>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 word-container">
                        <!-- Palavras ser√£o inseridas pelo JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO: PALAVRAS POR CAP√çTULO (ACORDE√ÉO) -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom mb-6">
            <h2 class="text-2xl font-semibold text-accent flex items-center gap-2 border-b-2 border-accent-light pb-2 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                Palavras por Cap√≠tulo
            </h2>
            <div id="chapters-accordion" class="space-y-2">
                <!-- Cap√≠tulos ser√£o inseridos pelo JS -->
            </div>
        </section>

        <!-- SE√á√ÉO: FALE COM A IA -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom mb-6">
            <h2 class="text-2xl font-semibold text-accent flex items-center gap-2 border-b-2 border-accent-light pb-2 mb-4">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/></svg>
                Fale com a IA: Seu Treinador Virtual
            </h2>
            <p class="mb-4">Quer treinar de um jeito mais din√¢mico? Digite sua d√∫vida ou pe√ßa um desafio no campo abaixo.</p>
            
            <div class="flex flex-col sm:flex-row gap-2">
                <input type="text" id="ai-prompt-input" placeholder="Ex: 'Me d√™ uma palavra dif√≠cil' ou 'Qual a regra para 'excelent√≠ssimo'?'" class="flex-grow p-3 rounded-md border border-custom bg-input text-custom focus:ring-2 focus:ring-accent-light focus:outline-none transition-colors duration-300">
                <button id="ai-send-btn" class="bg-accent text-white px-6 py-3 rounded-md hover:bg-accent-light hover:text-header transition-colors font-semibold flex items-center justify-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                    Enviar
                </button>
            </div>

            <div class="mt-4">
                <p class="text-sm opacity-80 mb-2">Ou clique em uma sugest√£o para come√ßar:</p>
                <div class="flex flex-wrap gap-2">
                    <button class="suggestion-btn text-sm bg-highlight border border-custom px-3 py-1 rounded-full hover:bg-accent-light hover:text-header transition-colors">Ditar palavra (N√≠vel 3)</button>
                    <button class="suggestion-btn text-sm bg-highlight border border-custom px-3 py-1 rounded-full hover:bg-accent-light hover:text-header transition-colors">Por que 'embaixadores' √© com x?</button>
                    <button class="suggestion-btn text-sm bg-highlight border border-custom px-3 py-1 rounded-full hover:bg-accent-light hover:text-header transition-colors">Simular uma rodada de soletra√ß√£o</button>
                </div>
            </div>
            
            <div id="ai-response" class="mt-6 p-4 bg-highlight rounded-md min-h-[60px] border border-custom whitespace-pre-wrap text-custom transition-colors duration-300">
                <span class="opacity-60">A resposta da IA aparecer√° aqui...</span>
            </div>
        </section>

        <!-- SE√á√ÉO DE DICAS ESTRAT√âGICAS -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom mb-6">
             <h2 class="text-2xl font-semibold text-accent flex items-center gap-2 border-b-2 border-accent-light pb-2 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                Dicas Estrat√©gicas de Mestre
            </h2>
            <div class="space-y-6">
                <div>
                    <h3 class="text-lg font-semibold text-accent-light">1. O Ritual da Soletra√ß√£o na Competi√ß√£o</h3>
                    <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
                        <li><b>Ou√ßa</b> com m√°xima aten√ß√£o.</li>
                        <li><b>Pe√ßa para repetir</b> e, se ajudar, pe√ßa uma frase de exemplo. √â seu direito!</li>
                        <li><b>Visualize</b> a palavra escrita em sua mente antes de falar.</li>
                        <li><b>Soletre pausadamente</b>, s√≠laba por s√≠laba, com clareza.</li>
                        <li><b>Confirme</b> a palavra no final para garantir que n√£o houve enganos.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-accent-light">2. Foco nas Armadilhas do Portugu√™s</h3>
                    <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
                        <li><b>O som de /s/:</b> Pode ser S, SS, C, √á, SC ou XC. Ex: prome<b>ss</b>a, consola<b>√ß</b>√£o, con<b>sc</b>i√™ncia.</li>
                        <li><b>Acentua√ß√£o:</b> Proparox√≠tonas s√£o sempre acentuadas. Ex: ap<b>√≥</b>stolo, minist<b>√©</b>rio.</li>
                        <li><b>Uso de G e J:</b> Uma palavra comum que gera d√∫vida √© <b>jugo</b>.</li>
                        <li><b>O "X" vers√°til:</b> Pode ter som de /ch/, /cs/, /z/ ou /s/. Ex: e<b>x</b>orta√ß√£o (som de /z/).</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-accent-light">3. Crie seu Arsenal de Estudo</h3>
                     <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
                        <li><b>Flashcards:</b> Escreva a palavra na frente e a soletra√ß√£o sil√°bica + uma dica no verso.</li>
                        <li><b>Leitura Ativa:</b> Leia os cap√≠tulos de 2 Cor√≠ntios com um caderno ao lado. Anote toda palavra que gerar d√∫vida.</li>
                        <li><b>Ditado em Dupla:</b> Pe√ßa para algu√©m ditar palavras da lista em ordem aleat√≥ria para voc√™.</li>
                        <li><b>Simulado com Cron√¥metro:</b> Desafie-se a soletrar cada palavra em menos de 30 segundos.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO DE ENCERRAMENTO -->
        <section class="bg-card p-6 rounded-lg shadow-sm border border-custom text-center">
            <h2 class="text-2xl font-semibold text-accent border-b-2 border-accent-light pb-2 mb-4">Uma Palavra Final de Incentivo</h2>
            <p>Confie no seu preparo, respire fundo e d√™ o seu melhor. Estamos torcendo por voc√™!</p>
        </section>
    </main>
    
    <footer class="text-center py-6 opacity-70 text-sm">
        <p>Desenvolvido para futuros campe√µes de soletra√ß√£o.</p>
    </footer>

    <!-- MODAL DE TREINO DE PALAVRAS -->
    <div id="practice-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-30 opacity-0 pointer-events-none">
        <div class="modal-content bg-card rounded-lg shadow-2xl p-6 w-full max-w-md border border-custom transform scale-95 opacity-0">
            <h3 class="text-xl font-bold text-accent mb-4" id="modal-word-title">Treinar Palavra</h3>
            <p class="mb-4">Ou√ßa a palavra e digite-a no campo abaixo.</p>
            <button id="listen-btn" class="mb-4 w-full bg-accent text-white px-4 py-2 rounded-md hover:bg-accent-light hover:text-header transition-colors flex items-center justify-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
                Ouvir a Palavra
            </button>
            <input type="text" id="spell-input" class="w-full p-3 rounded-md border border-custom bg-input text-custom focus:ring-2 focus:ring-accent-light focus:outline-none transition-colors duration-300" placeholder="Digite a palavra aqui...">
            <div id="feedback" class="mt-3 text-sm min-h-[20px]"></div>
            <div class="mt-4 flex justify-end gap-3">
                <button id="check-spell-btn" class="bg-accent text-white px-5 py-2 rounded-md hover:bg-accent-light hover:text-header transition-colors font-semibold">Verificar</button>
                <button id="close-modal-btn" class="bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 px-5 py-2 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors">Fechar</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- BANCO DE DADOS DE PALAVRAS ---
        const wordsByLevel = {
            1: [
                { word: 'amor' }, { word: 'f√©' }, { word: 'paz' }, { word: 'luz' }, { word: 'vida' },
                { word: 'gra√ßa' }, { word: 'Deus' }, { word: 'Cristo' }, { word: 'irm√£os' }, { word: 'corpo' },
                { word: 'alma' }, { word: 'carta' }, { word: 'gl√≥ria' }, { word: 'verdade' }, { word: 'justi√ßa' },
                { word: 'perd√£o' }, { word: 'for√ßa' }, { word: 'igreja' }, { word: 'cora√ß√£o' }
            ],
            2: [
                { word: 'ap√≥stolo', tip: 'Acento no "√≥"' }, { word: 'minist√©rio', tip: 'Acento no "√©"' },
                { word: 'consola√ß√£o', tip: 'Final com "√ß√£o"' }, { word: 'esperan√ßa', tip: 'Com "√ß"' },
                { word: 'testemunho', tip: 'D√≠grafo "nh"' }, { word: 'promessa', tip: 'Dois "s"' },
                { word: 'tribula√ß√£o' }, { word: 'fraqueza', tip: 'Final "-eza" com "z"' }, { word: 'sinceridade' },
                { word: 'sabedoria' }, { word: 'obedi√™ncia' }, { word: 'paci√™ncia' }, { word: 'humildade' },
                { word: 'caridade' }, { word: 'santidade' }, { word: 'justifica√ß√£o' }
            ],
            3: [
                { word: 'reconcilia√ß√£o', tip: '"c" e "√ß"' }, { word: 'persegui√ß√£o', tip: '"s" com som de /s/' },
                { word: 'consci√™ncia', tip: 'A sequ√™ncia "sc"' }, { word: 'benignidade', tip: 'O "gn" em sequ√™ncia' },
                { word: 'magnific√™ncia', tip: '"gn" e acento' }, { word: 'arrependimento', tip: 'Dois "r"' },
                { word: 'edifica√ß√£o' }, { word: 'ressurrei√ß√£o', tip: '"ss" e "rr"' }, { word: 'exorta√ß√£o', tip: '"x" com som de /z/' },
                { word: 'incompreens√≠vel', tip: '"ss" e "s√≠vel"' }, { word: 'incorrupt√≠vel', tip: 'Dois "r"' },
                { word: 'transforma√ß√£o', tip: '"trans" e "forma√ß√£o"' }
            ],
            4: [
                { word: 'longanimidade' }, { word: 'excelent√≠ssimo', tip: '"xc" e "ss"' },
                { word: 'transfigura√ß√£o', tip: '"trans" e "figura√ß√£o"' }, { word: 'perplexos', tip: '"x" com som de "cs"' },
                { word: 'embaixadores', tip: 'Com "x"' }, { word: 'regenera√ß√£o' }, { word: 'justifica√ß√£o' },
                { word: 'glorifica√ß√£o' }, { word: 'santifica√ß√£o' }, { word: 'Cor√≠ntios', tip: 'Acento no "√≠"' }
            ]
        };

        const wordsByChapter = {
            1: ['ap√≥stolo', 'consola√ß√£o', 'tribula√ß√£o', 'salva√ß√£o', 'confian√ßa', 'sinceridade', 'promessa', 'penhor', 'arrependimento'],
            2: ['perd√£o', 'miseric√≥rdia', 'satan√°s', 'triunfo', 'fragr√¢ncia', 'Cristo', 'sufici√™ncia', 'minist√©rio'],
            3: ['ep√≠stola', 'perman√™ncia', 'justifica√ß√£o', 'gl√≥ria', 'minist√©rio', 'morte', 'condena√ß√£o', 'esp√≠rito', 'liberdade'],
            4: ['miseric√≥rdia', 'minist√©rio', 'esconderijo', 'perdi√ß√£o', 'ilumina√ß√£o', 'conhecimento', 'fraqueza', 'sofrimento', 'perplexos'],
            5: ['habita√ß√£o', 'suspiramos', 'ressurrei√ß√£o', 'tribula√ß√£o', 'ju√≠zo', 'reconcilia√ß√£o', 'embaixadores', 'justi√ßa', 'benignidade', 'longanimidade'],
            6: ['santidade', 'sinceridade', 'concord√¢ncia', 'injusti√ßa', 'trevas', 'templo', 'promessa'],
            7: ['contamina√ß√£o', 'perfei√ß√£o', 'consola√ß√£o', 'solicitude', 'sinceridade', 'justifica√ß√£o', 'santifica√ß√£o', 'glorifica√ß√£o'],
            8: ['Maced√¥nia', 'abund√¢ncia', 'generosidade', 'dilig√™ncia', 'liberalidade', 'coleta', 'igualdade', 'provis√£o'],
            9: ['ministra√ß√£o', 'semeadura', 'justi√ßa', 'sufici√™ncia', 'benevol√™ncia', 'miseric√≥rdia'],
            10: ['conhecimento', 'obedi√™ncia', 'armamento', 'confian√ßa', 'gl√≥ria', 'corpo', 'justifica√ß√£o'],
            11: ['simplicidade', 'corrup√ß√£o', 'transfigura√ß√£o', 'ap√≥stolo', 'ministro', 'justi√ßa', 'fraqueza', 'perigo', 'tribula√ß√£o'],
            12: ['vis√µes', 'revela√ß√µes', 'para√≠so', 'exorta√ß√£o', 'sufici√™ncia', 'justifica√ß√£o', 'santifica√ß√£o', 'glorifica√ß√£o', 'humildade', 'paci√™ncia'],
            13: ['testemunhas', 'consola√ß√£o', 'perfei√ß√£o', 'confian√ßa', 'tribula√ß√£o', 'obedi√™ncia', 'comunh√£o']
        };

        // --- INICIALIZA√á√ÉO DO CONTE√öDO DIN√ÇMICO ---

        // Preenche as listas de palavras por n√≠vel
        const wordListsContainer = document.getElementById('word-lists');
        Object.keys(wordsByLevel).forEach((level, index) => {
            const container = wordListsContainer.querySelectorAll('.word-container')[index];
            if (container) {
                const words = wordsByLevel[level];
                words.forEach(wordData => {
                    const wordEl = document.createElement('div');
                    wordEl.className = 'bg-highlight p-3 rounded-md text-center cursor-pointer hover:shadow-lg hover:-translate-y-1 transition-all duration-200';
                    wordEl.dataset.word = wordData.word;
                    wordEl.innerHTML = `
                        <span class="font-medium">${wordData.word}</span>
                        ${wordData.tip ? `<small class="block text-xs opacity-75 italic">${wordData.tip}</small>` : ''}
                    `;
                    container.appendChild(wordEl);
                });
            }
        });

        // Preenche o acorde√£o de cap√≠tulos
        const accordionContainer = document.getElementById('chapters-accordion');
        Object.keys(wordsByChapter).forEach(chapter => {
            const chapterWords = wordsByChapter[chapter];
            const accordionItem = document.createElement('div');
            accordionItem.className = 'border border-custom rounded-lg';
            accordionItem.innerHTML = `
                <button class="accordion-header w-full text-left p-4 font-semibold text-accent-light flex justify-between items-center transition-colors hover:bg-highlight">
                    <span>Cap√≠tulo ${chapter}</span>
                    <svg class="w-5 h-5 transform transition-transform shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div class="accordion-content">
                    <ul class="list-disc list-inside space-y-1 p-4 pt-0">
                        ${chapterWords.map(word => `<li>${word}</li>`).join('')}
                    </ul>
                </div>
            `;
            accordionContainer.appendChild(accordionItem);
        });

        // --- FUNCIONALIDADE DO MODO ESCURO ---
        const darkModeToggle = document.getElementById('darkModeToggle');
        const htmlEl = document.documentElement;

        if (localStorage.getItem('darkMode') === 'enabled' || 
            (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('darkMode'))) {
            htmlEl.classList.add('dark');
        }
        darkModeToggle.addEventListener('click', () => {
            htmlEl.classList.toggle('dark');
            localStorage.setItem('darkMode', htmlEl.classList.contains('dark') ? 'enabled' : 'disabled');
        });

        // --- FUNCIONALIDADE DO ACORDE√ÉO ---
        accordionContainer.addEventListener('click', (e) => {
            const header = e.target.closest('.accordion-header');
            if (header) {
                const content = header.nextElementSibling;
                const icon = header.querySelector('svg');
                
                // Fecha todos os outros
                accordionContainer.querySelectorAll('.accordion-content').forEach(c => {
                    if (c !== content) {
                        c.style.maxHeight = null;
                        c.style.padding = '0 1rem';
                        c.previousElementSibling.querySelector('svg').classList.remove('rotate-180');
                    }
                });

                // Abre ou fecha o atual
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    content.style.padding = '0 1rem';
                    icon.classList.remove('rotate-180');
                } else {
                    content.style.padding = '0 1rem 1rem 1rem';
                    content.style.maxHeight = content.scrollHeight + "px";
                    icon.classList.add('rotate-180');
                }
            }
        });

        // --- FUNCIONALIDADE DO MODAL DE TREINO ---
        const modal = document.getElementById('practice-modal');
        const modalOverlay = modal.querySelector('.modal-overlay');
        const modalContent = modal.querySelector('.modal-content');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const listenBtn = document.getElementById('listen-btn');
        const spellInput = document.getElementById('spell-input');
        const checkBtn = document.getElementById('check-spell-btn');
        const feedbackEl = document.getElementById('feedback');
        const modalTitle = document.getElementById('modal-word-title');
        let currentWord = '';

        // Abre o modal
        wordListsContainer.addEventListener('click', (e) => {
            const wordDiv = e.target.closest('[data-word]');
            if (wordDiv) {
                currentWord = wordDiv.dataset.word;
                modalTitle.textContent = `Treinar: "${currentWord}"`;
                spellInput.value = '';
                feedbackEl.innerHTML = '';
                spellInput.classList.remove('border-green-500', 'border-red-500');
                modal.classList.remove('opacity-0', 'pointer-events-none');
                modalContent.classList.remove('scale-95', 'opacity-0');
                setTimeout(() => spellInput.focus(), 300);
            }
        });

        // Fecha o modal
        const closeModal = () => {
            modal.classList.add('opacity-0', 'pointer-events-none');
            modalContent.classList.add('scale-95', 'opacity-0');
        };
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Funcionalidade de ouvir a palavra
        listenBtn.addEventListener('click', () => {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(currentWord);
                utterance.lang = 'pt-BR';
                window.speechSynthesis.speak(utterance);
            } else {
                alert('Seu navegador n√£o suporta a s√≠ntese de voz.');
            }
        });

        // Funcionalidade de verificar a soletra√ß√£o
        const checkSpelling = () => {
            const userInput = spellInput.value.trim().toLowerCase();
            const correctWord = currentWord.toLowerCase();
            spellInput.classList.remove('border-green-500', 'border-red-500');
            if (userInput === correctWord) {
                feedbackEl.textContent = 'Correto! Muito bem!';
                feedbackEl.className = 'mt-3 text-sm min-h-[20px] text-green-500 font-semibold';
                spellInput.classList.add('border-green-500');
            } else {
                feedbackEl.textContent = 'Quase l√°! Tente novamente.';
                feedbackEl.className = 'mt-3 text-sm min-h-[20px] text-red-500 font-semibold';
                spellInput.classList.add('border-red-500');
            }
        };
        checkBtn.addEventListener('click', checkSpelling);
        spellInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') checkSpelling();
        });

        // --- FUNCIONALIDADE DA IA ---
        const aiResponseContainer = document.getElementById('ai-response');
        const aiPromptInput = document.getElementById('ai-prompt-input');
        const aiSendBtn = document.getElementById('ai-send-btn');
        const suggestionBtns = document.querySelectorAll('.suggestion-btn');

        // Fun√ß√£o para enviar o prompt para a API Gemini
        async function getGeminiResponse(prompt) {
            aiResponseContainer.innerHTML = '<span class="opacity-60 animate-pulse">Pensando... üß†</span>';
            aiSendBtn.disabled = true;

            const systemMessage = "Voc√™ √© um treinador de soletra√ß√£o para um concurso focado no livro de 2 Cor√≠ntios da B√≠blia. Responda de forma clara, objetiva e encorajadora em portugu√™s do Brasil. Se pedirem uma palavra para soletrar, diga a palavra em voz alta (usando negrito) e depois pergunte como se soletra. Se a pergunta for sobre ortografia, explique a regra de forma simples e d√™ exemplos do livro de 2 Cor√≠ntios, se poss√≠vel.";
            
            let chatHistory = [
                { role: "user", parts: [{ text: systemMessage + "\n\n" + prompt }] }
            ];

            const payload = { contents: chatHistory };
            const apiKey = ""; // A chave ser√° fornecida pelo ambiente
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`Erro na API: ${response.status} ${response.statusText}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    aiResponseContainer.textContent = text.trim();
                } else {
                    throw new Error("A resposta da IA n√£o cont√©m conte√∫do v√°lido.");
                }

            } catch (error) {
                console.error("Erro ao contatar a IA:", error);
                aiResponseContainer.textContent = `Desculpe, n√£o consegui me conectar ao treinador virtual. Verifique sua conex√£o ou tente novamente mais tarde.`;
            } finally {
                aiSendBtn.disabled = false;
            }
        }
        
        // Event listeners para os bot√µes de sugest√£o
        suggestionBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const suggestion = btn.textContent;
                aiPromptInput.value = suggestion;
                aiPromptInput.focus();
                getGeminiResponse(suggestion);
            });
        });

        // Fun√ß√£o para lidar com o envio do input
        function sendPromptFromInput() {
            const userPrompt = aiPromptInput.value.trim();
            if (userPrompt) {
                getGeminiResponse(userPrompt);
                aiPromptInput.value = ''; // Limpa o campo ap√≥s o envio
            }
        }

        // Event Listeners para o input da IA
        aiSendBtn.addEventListener('click', sendPromptFromInput);
        aiPromptInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                sendPromptFromInput();
            }
        });
    });
    </script>
</body>
</html>
